var Chart=function(a){function m(a,b,c){var d=b.steps*b.stepValue,e=a-b.graphMin,f=u(e/d,1,0);return c*b.steps*f}function n(a,b,d,e){function j(){var c=a.animation?u(h(i),null,0):1;f(e),a.scaleOverlay?(d(c),b()):(b(),d(c))}function k(){i+=g,j(),1>=i?o(k):"function"==typeof a.onAnimationComplete&&a.onAnimationComplete()}var g=a.animation?1/u(a.animationSteps,Number.MAX_VALUE,1):1,h=c[a.animationEasing],i=a.animation?0:1;"function"!=typeof b&&(b=function(){}),o(k)}function p(a,b,c,d,e,f){function q(a){return Math.floor(Math.log(a)/Math.LN10)}for(var o,p,l=d-e,m=q(l),g=Math.floor(e/(1*Math.pow(10,m)))*Math.pow(10,m),h=Math.ceil(d/(1*Math.pow(10,m)))*Math.pow(10,m),i=h-g,j=Math.pow(10,m),k=Math.round(i/j);c>k||k>b;)c>k?(j/=2,k=Math.round(i/j)):(j*=2,k=Math.round(i/j));if(o=[],f)for(p=1;k+1>p;p++)o.push(y(f,{value:(g+j*p).toFixed(v(j))}));return{steps:k,stepValue:j,graphMin:g,labels:o}}function q(a){return Math.max.apply(Math,a)}function r(a){return Math.min.apply(Math,a)}function s(a,b){return a?a:b}function t(a){return!isNaN(parseFloat(a))&&isFinite(a)}function u(a,b,c){return t(b)&&a>b?b:t(c)&&c>a?c:a}function v(a){return 0!=a%1?a.toString().split(".")[1].length:0}function w(a,b){var d,c={};for(d in a)c[d]=a[d];for(d in b)c[d]=b[d];return c}function y(a,b){var c=/\W/.test(a)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):x[a]=x[a]||y(document.getElementById(a).innerHTML);return b?c(b):c}var f,g,h,i,j,k,l,o,x,b=this,c={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-1*a*(a-2)},easeInOutQuad:function(a){return(a/=.5)<1?.5*a*a:-0.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return 1*((a=a/1-1)*a*a+1)},easeInOutCubic:function(a){return(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-1*((a=a/1-1)*a*a*a-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return 1*(a/=1)*a*a*a*a},easeOutQuint:function(a){return 1*((a=a/1-1)*a*a*a*a+1)},easeInOutQuint:function(a){return(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return-1*Math.cos(a/1*(Math.PI/2))+1},easeOutSine:function(a){return 1*Math.sin(a/1*(Math.PI/2))},easeInOutSine:function(a){return-0.5*(Math.cos(Math.PI*a/1)-1)},easeInExpo:function(a){return 0==a?1:1*Math.pow(2,10*(a/1-1))},easeOutExpo:function(a){return 1==a?1:1*(-Math.pow(2,-10*a/1)+1)},easeInOutExpo:function(a){return 0==a?0:1==a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return a>=1?a:-1*(Math.sqrt(1-(a/=1)*a)-1)},easeOutCirc:function(a){return 1*Math.sqrt(1-(a=a/1-1)*a)},easeInOutCirc:function(a){return(a/=.5)<1?-0.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(a){var b=1.70158,c=0,d=1;return 0==a?0:1==(a/=1)?1:(c||(c=.3),d<Math.abs(1)?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),-(d*Math.pow(2,10*(a-=1))*Math.sin((1*a-b)*2*Math.PI/c)))},easeOutElastic:function(a){var b=1.70158,c=0,d=1;return 0==a?0:1==(a/=1)?1:(c||(c=.3),d<Math.abs(1)?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),d*Math.pow(2,-10*a)*Math.sin((1*a-b)*2*Math.PI/c)+1)},easeInOutElastic:function(a){var b=1.70158,c=0,d=1;return 0==a?0:2==(a/=.5)?1:(c||(c=1*.3*1.5),d<Math.abs(1)?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),1>a?-.5*d*Math.pow(2,10*(a-=1))*Math.sin((1*a-b)*2*Math.PI/c):.5*d*Math.pow(2,-10*(a-=1))*Math.sin((1*a-b)*2*Math.PI/c)+1)},easeInBack:function(a){var b=1.70158;return 1*(a/=1)*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return 1*((a=a/1-1)*a*((b+1)*a+b)+1)},easeInOutBack:function(a){var b=1.70158;return(a/=.5)<1?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},easeInBounce:function(a){return 1-c.easeOutBounce(1-a)},easeOutBounce:function(a){return(a/=1)<1/2.75?1*7.5625*a*a:2/2.75>a?1*(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1*(7.5625*(a-=2.25/2.75)*a+.9375):1*(7.5625*(a-=2.625/2.75)*a+.984375)},easeInOutBounce:function(a){return.5>a?.5*c.easeInBounce(2*a):.5*c.easeOutBounce(2*a-1)+.5}},d=a.canvas.width,e=a.canvas.height;window.devicePixelRatio&&(a.canvas.style.width=d+"px",a.canvas.style.height=e+"px",a.canvas.height=e*window.devicePixelRatio,a.canvas.width=d*window.devicePixelRatio,a.scale(window.devicePixelRatio,window.devicePixelRatio)),this.PolarArea=function(c,d){b.PolarArea.defaults={scaleOverlay:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var e=d?w(b.PolarArea.defaults,d):b.PolarArea.defaults;return new g(c,e,a)},this.Radar=function(c,d){b.Radar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var e=d?w(b.Radar.defaults,d):b.Radar.defaults;return new h(c,e,a)},this.Pie=function(c,d){b.Pie.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var e=d?w(b.Pie.defaults,d):b.Pie.defaults;return new i(c,e,a)},this.Doughnut=function(c,d){b.Doughnut.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var e=d?w(b.Doughnut.defaults,d):b.Doughnut.defaults;return new j(c,e,a)},this.Line=function(c,d){b.Line.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var e=d?w(b.Line.defaults,d):b.Line.defaults;return new k(c,e,a)},this.Bar=function(c,d){b.Bar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var e=d?w(b.Bar.defaults,d):b.Bar.defaults;return new l(c,e,a)},f=function(a){a.clearRect(0,0,d,e)},g=function(a,b,c){function t(){f=r([d,e])/2,f-=q([.5*b.scaleFontSize,.5*b.scaleLineWidth]),i=2*b.scaleFontSize,b.scaleShowLabelBackdrop&&(i+=2*b.scaleBackdropPaddingY,f-=1.5*b.scaleBackdropPaddingY),j=f,i=s(i,5)}function u(){var a,f,i;for(a=0;a<h.steps;a++)b.scaleShowLine&&(c.beginPath(),c.arc(d/2,e/2,g*(a+1),0,2*Math.PI,!0),c.strokeStyle=b.scaleLineColor,c.lineWidth=b.scaleLineWidth,c.stroke()),b.scaleShowLabels&&(c.textAlign="center",c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily,f=h.labels[a],b.scaleShowLabelBackdrop&&(i=c.measureText(f).width,c.fillStyle=b.scaleBackdropColor,c.beginPath(),c.rect(Math.round(d/2-i/2-b.scaleBackdropPaddingX),Math.round(e/2-g*(a+1)-.5*b.scaleFontSize-b.scaleBackdropPaddingY),Math.round(i+2*b.scaleBackdropPaddingX),Math.round(b.scaleFontSize+2*b.scaleBackdropPaddingY)),c.fill()),c.textBaseline="middle",c.fillStyle=b.scaleFontColor,c.fillText(f,d/2,e/2-g*(a+1)))}function w(f){var n,i=-Math.PI/2,j=2*Math.PI/a.length,k=1,l=1;for(b.animation&&(b.animateScale&&(k=f),b.animateRotate&&(l=f)),n=0;n<a.length;n++)c.beginPath(),c.arc(d/2,e/2,k*m(a[n].value,h,g),i,i+l*j,!1),c.lineTo(d/2,e/2),c.closePath(),c.fillStyle=a[n].color,c.fill(),b.segmentShowStroke&&(c.strokeStyle=b.segmentStrokeColor,c.lineWidth=b.segmentStrokeWidth,c.stroke()),i+=l*j}function x(){var d,e,f,b=Number.MIN_VALUE,c=Number.MAX_VALUE;for(d=0;d<a.length;d++)a[d].value>b&&(b=a[d].value),a[d].value<c&&(c=a[d].value);return e=Math.floor(j/(.66*i)),f=Math.floor(.5*(j/i)),{maxValue:b,minValue:c,maxSteps:e,minSteps:f}}var f,g,h,i,j,k,l,o;if(t(),k=x(),l=b.scaleShowLabels?b.scaleLabel:null,b.scaleOverride)for(h={steps:b.scaleSteps,stepValue:b.scaleStepWidth,graphMin:b.scaleStartValue,labels:[]},o=0;o<h.steps;o++)l&&h.labels.push(y(l,{value:(b.scaleStartValue+b.scaleStepWidth*o).toFixed(v(b.scaleStepWidth))}));else h=p(j,k.maxSteps,k.minSteps,k.maxValue,k.minValue,l);g=f/h.steps,n(b,u,w,c)},h=function(a,b,c){function t(f){var j,k,l,i=2*Math.PI/a.datasets[0].data.length;for(c.save(),c.translate(d/2,e/2),j=0;j<a.datasets.length;j++){for(c.beginPath(),c.moveTo(0,f*-1*m(a.datasets[j].data[0],h,g)),k=1;k<a.datasets[j].data.length;k++)c.rotate(i),c.lineTo(0,f*-1*m(a.datasets[j].data[k],h,g));if(c.closePath(),c.fillStyle=a.datasets[j].fillColor,c.strokeStyle=a.datasets[j].strokeColor,c.lineWidth=b.datasetStrokeWidth,c.fill(),c.stroke(),b.pointDot)for(c.fillStyle=a.datasets[j].pointColor,c.strokeStyle=a.datasets[j].pointStrokeColor,c.lineWidth=b.pointDotStrokeWidth,l=0;l<a.datasets[j].data.length;l++)c.rotate(i),c.beginPath(),c.arc(0,f*-1*m(a.datasets[j].data[l],h,g),b.pointDotRadius,2*Math.PI,!1),c.fill(),c.stroke();c.rotate(i)}c.restore()}function w(){var j,k,l,m,n,o,p,i=2*Math.PI/a.datasets[0].data.length;if(c.save(),c.translate(d/2,e/2),b.angleShowLineOut)for(c.strokeStyle=b.angleLineColor,c.lineWidth=b.angleLineWidth,j=0;j<a.datasets[0].data.length;j++)c.rotate(i),c.beginPath(),c.moveTo(0,0),c.lineTo(0,-f),c.stroke();for(k=0;k<h.steps;k++){if(c.beginPath(),b.scaleShowLine){for(c.strokeStyle=b.scaleLineColor,c.lineWidth=b.scaleLineWidth,c.moveTo(0,-g*(k+1)),l=0;l<a.datasets[0].data.length;l++)c.rotate(i),c.lineTo(0,-g*(k+1));c.closePath(),c.stroke()}b.scaleShowLabels&&(c.textAlign="center",c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily,c.textBaseline="middle",b.scaleShowLabelBackdrop&&(m=c.measureText(h.labels[k]).width,c.fillStyle=b.scaleBackdropColor,c.beginPath(),c.rect(Math.round(-m/2-b.scaleBackdropPaddingX),Math.round(-g*(k+1)-.5*b.scaleFontSize-b.scaleBackdropPaddingY),Math.round(m+2*b.scaleBackdropPaddingX),Math.round(b.scaleFontSize+2*b.scaleBackdropPaddingY)),c.fill()),c.fillStyle=b.scaleFontColor,c.fillText(h.labels[k],0,-g*(k+1)))}for(n=0;n<a.labels.length;n++)c.font=b.pointLabelFontStyle+" "+b.pointLabelFontSize+"px "+b.pointLabelFontFamily,c.fillStyle=b.pointLabelFontColor,o=Math.sin(i*n)*(f+b.pointLabelFontSize),p=Math.cos(i*n)*(f+b.pointLabelFontSize),c.textAlign=i*n==Math.PI||0==i*n?"center":i*n>Math.PI?"right":"left",c.textBaseline="middle",c.fillText(a.labels[n],o,-p);c.restore()}function x(){var g,h,k;for(f=r([d,e])/2,i=2*b.scaleFontSize,g=0,h=0;h<a.labels.length;h++)c.font=b.pointLabelFontStyle+" "+b.pointLabelFontSize+"px "+b.pointLabelFontFamily,k=c.measureText(a.labels[h]).width,k>g&&(g=k);f-=q([g,1.5*(b.pointLabelFontSize/2)]),f-=b.pointLabelFontSize,f=u(f,null,0),j=f,i=s(i,5)}function z(){var d,e,f,g,b=Number.MIN_VALUE,c=Number.MAX_VALUE;for(d=0;d<a.datasets.length;d++)for(e=0;e<a.datasets[d].data.length;e++)a.datasets[d].data[e]>b&&(b=a.datasets[d].data[e]),a.datasets[d].data[e]<c&&(c=a.datasets[d].data[e]);return f=Math.floor(j/(.66*i)),g=Math.floor(.5*(j/i)),{maxValue:b,minValue:c,maxSteps:f,minSteps:g}}var f,g,h,i,j,k,l,o;if(a.labels||(a.labels=[]),x(),k=z(),l=b.scaleShowLabels?b.scaleLabel:null,b.scaleOverride)for(h={steps:b.scaleSteps,stepValue:b.scaleStepWidth,graphMin:b.scaleStartValue,labels:[]},o=0;o<h.steps;o++)l&&h.labels.push(y(l,{value:(b.scaleStartValue+b.scaleStepWidth*o).toFixed(v(b.scaleStepWidth))}));else h=p(j,k.maxSteps,k.minSteps,k.maxValue,k.minValue,l);g=f/h.steps,n(b,w,t,c)},i=function(a,b,c){function i(h){var l,m,i=-Math.PI/2,j=1,k=1;for(b.animation&&(b.animateScale&&(j=h),b.animateRotate&&(k=h)),l=0;l<a.length;l++)m=k*a[l].value/f*2*Math.PI,c.beginPath(),c.arc(d/2,e/2,j*g,i,i+m),c.lineTo(d/2,e/2),c.closePath(),c.fillStyle=a[l].color,c.fill(),b.segmentShowStroke&&(c.lineWidth=b.segmentStrokeWidth,c.strokeStyle=b.segmentStrokeColor,c.stroke()),i+=m}var h,f=0,g=r([e/2,d/2])-5;for(h=0;h<a.length;h++)f+=a[h].value;n(b,null,i,c)},j=function(a,b,c){function j(i){var m,n,j=-Math.PI/2,k=1,l=1;for(b.animation&&(b.animateScale&&(k=i),b.animateRotate&&(l=i)),m=0;m<a.length;m++)n=l*a[m].value/f*2*Math.PI,c.beginPath(),c.arc(d/2,e/2,k*g,j,j+n,!1),c.arc(d/2,e/2,k*h,j+n,j,!0),c.closePath(),c.fillStyle=a[m].color,c.fill(),b.segmentShowStroke&&(c.lineWidth=b.segmentStrokeWidth,c.strokeStyle=b.segmentStrokeColor,c.stroke()),j+=n}var i,f=0,g=r([e/2,d/2])-5,h=g*(b.percentageInnerCutout/100);for(i=0;i<a.length;i++)f+=a[i].value;n(b,null,j,c)},k=function(a,b,c){function x(d){function j(b,c){return t-d*m(a.datasets[b].data[c],h,g)}function k(a){return s+o*a}var e,f,i;for(e=0;e<a.datasets.length;e++){for(c.strokeStyle=a.datasets[e].strokeColor,c.lineWidth=b.datasetStrokeWidth,c.beginPath(),c.moveTo(s,t-d*m(a.datasets[e].data[0],h,g)),f=1;f<a.datasets[e].data.length;f++)b.bezierCurve?c.bezierCurveTo(k(f-.5),j(e,f-1),k(f-.5),j(e,f),k(f),j(e,f)):c.lineTo(k(f),j(e,f));if(c.stroke(),b.datasetFill?(c.lineTo(s+o*(a.datasets[e].data.length-1),t),c.lineTo(s,t),c.closePath(),c.fillStyle=a.datasets[e].fillColor,c.fill()):c.closePath(),b.pointDot)for(c.fillStyle=a.datasets[e].pointColor,c.strokeStyle=a.datasets[e].pointStrokeColor,c.lineWidth=b.pointDotStrokeWidth,i=0;i<a.datasets[e].data.length;i++)c.beginPath(),c.arc(s+o*i,t-d*m(a.datasets[e].data[i],h,g),b.pointDotRadius,0,2*Math.PI,!0),c.fill(),c.stroke()}}function z(){var e,f;for(c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(d-q/2+5,t),c.lineTo(d-q/2-r-5,t),c.stroke(),u>0?(c.save(),c.textAlign="right"):c.textAlign="center",c.fillStyle=b.scaleFontColor,e=0;e<a.labels.length;e++)c.save(),u>0?(c.translate(s+e*o,t+b.scaleFontSize),c.rotate(-(u*(Math.PI/180))),c.fillText(a.labels[e],0,0),c.restore()):c.fillText(a.labels[e],s+e*o,t+b.scaleFontSize+3),c.beginPath(),c.moveTo(s+e*o,t+3),b.scaleShowGridLines&&e>0?(c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,c.lineTo(s+e*o,5)):c.lineTo(s+e*o,t+3),c.stroke();for(c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(s,t+5),c.lineTo(s,5),c.stroke(),c.textAlign="right",c.textBaseline="middle",f=0;f<h.steps;f++)c.beginPath(),c.moveTo(s-3,t-(f+1)*g),b.scaleShowGridLines?(c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,c.lineTo(s+r+5,t-(f+1)*g)):c.lineTo(s-.5,t-(f+1)*g),c.stroke(),b.scaleShowLabels&&c.fillText(h.labels[f],s-8,t-(f+1)*g)}function A(){var f,g,e=1;if(b.scaleShowLabels){for(c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily,f=0;f<h.labels.length;f++)g=c.measureText(h.labels[f]).width,e=g>e?g:e;e+=10}r=d-e-q,o=Math.floor(r/(a.labels.length-1)),s=d-q/2-r,t=j+b.scaleFontSize/2}function B(){var g,h;for(f=e,c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily,q=1,g=0;g<a.labels.length;g++)h=c.measureText(a.labels[g]).width,q=h>q?h:q;d/a.labels.length<q?(u=45,d/a.labels.length<Math.cos(u)*q?(u=90,f-=q):f-=Math.sin(u)*q):f-=b.scaleFontSize,f-=5,i=b.scaleFontSize,f-=i,j=f}function C(){var d,e,f,g,b=Number.MIN_VALUE,c=Number.MAX_VALUE;for(d=0;d<a.datasets.length;d++)for(e=0;e<a.datasets[d].data.length;e++)a.datasets[d].data[e]>b&&(b=a.datasets[d].data[e]),a.datasets[d].data[e]<c&&(c=a.datasets[d].data[e]);return f=Math.floor(j/(.66*i)),g=Math.floor(.5*(j/i)),{maxValue:b,minValue:c,maxSteps:f,minSteps:g}}var f,g,h,i,j,k,l,o,q,r,s,t,w,u=0;if(B(),k=C(),l=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride)for(h={steps:b.scaleSteps,stepValue:b.scaleStepWidth,graphMin:b.scaleStartValue,labels:[]},w=0;w<h.steps;w++)l&&h.labels.push(y(l,{value:(b.scaleStartValue+b.scaleStepWidth*w).toFixed(v(b.scaleStepWidth))}));else h=p(j,k.maxSteps,k.minSteps,k.maxValue,k.minValue,l);g=Math.floor(j/h.steps),A(),n(b,z,x,c)},l=function(a,b,c){function z(d){var e,f,i;for(c.lineWidth=b.barStrokeWidth,e=0;e<a.datasets.length;e++)for(c.fillStyle=a.datasets[e].fillColor,c.strokeStyle=a.datasets[e].strokeColor,f=0;f<a.datasets[e].data.length;f++)i=s+b.barValueSpacing+o*f+u*e+b.barDatasetSpacing*e+b.barStrokeWidth*e,c.beginPath(),c.moveTo(i,t),c.lineTo(i,t-d*m(a.datasets[e].data[f],h,g)+b.barStrokeWidth/2),c.lineTo(i+u,t-d*m(a.datasets[e].data[f],h,g)+b.barStrokeWidth/2),c.lineTo(i+u,t),b.barShowStroke&&c.stroke(),c.closePath(),c.fill()}function A(){var e,f;for(c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(d-q/2+5,t),c.lineTo(d-q/2-r-5,t),c.stroke(),w>0?(c.save(),c.textAlign="right"):c.textAlign="center",c.fillStyle=b.scaleFontColor,e=0;e<a.labels.length;e++)c.save(),w>0?(c.translate(s+e*o,t+b.scaleFontSize),c.rotate(-(w*(Math.PI/180))),c.fillText(a.labels[e],0,0),c.restore()):c.fillText(a.labels[e],s+e*o+o/2,t+b.scaleFontSize+3),c.beginPath(),c.moveTo(s+(e+1)*o,t+3),c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,c.lineTo(s+(e+1)*o,5),c.stroke();for(c.lineWidth=b.scaleLineWidth,c.strokeStyle=b.scaleLineColor,c.beginPath(),c.moveTo(s,t+5),c.lineTo(s,5),c.stroke(),c.textAlign="right",c.textBaseline="middle",f=0;f<h.steps;f++)c.beginPath(),c.moveTo(s-3,t-(f+1)*g),b.scaleShowGridLines?(c.lineWidth=b.scaleGridLineWidth,c.strokeStyle=b.scaleGridLineColor,c.lineTo(s+r+5,t-(f+1)*g)):c.lineTo(s-.5,t-(f+1)*g),c.stroke(),b.scaleShowLabels&&c.fillText(h.labels[f],s-8,t-(f+1)*g)}function B(){var f,g,e=1;if(b.scaleShowLabels){for(c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily,f=0;f<h.labels.length;f++)g=c.measureText(h.labels[f]).width,e=g>e?g:e;e+=10}r=d-e-q,o=Math.floor(r/a.labels.length),u=(o-2*b.scaleGridLineWidth-2*b.barValueSpacing-(b.barDatasetSpacing*a.datasets.length-1)-(b.barStrokeWidth/2*a.datasets.length-1))/a.datasets.length,s=d-q/2-r,t=j+b.scaleFontSize/2}function C(){var g,h;for(f=e,c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily,q=1,g=0;g<a.labels.length;g++)h=c.measureText(a.labels[g]).width,q=h>q?h:q;d/a.labels.length<q?(w=45,d/a.labels.length<Math.cos(w)*q?(w=90,f-=q):f-=Math.sin(w)*q):f-=b.scaleFontSize,f-=5,i=b.scaleFontSize,f-=i,j=f}function D(){var d,e,f,g,b=Number.MIN_VALUE,c=Number.MAX_VALUE;for(d=0;d<a.datasets.length;d++)for(e=0;e<a.datasets[d].data.length;e++)a.datasets[d].data[e]>b&&(b=a.datasets[d].data[e]),a.datasets[d].data[e]<c&&(c=a.datasets[d].data[e]);return f=Math.floor(j/(.66*i)),g=Math.floor(.5*(j/i)),{maxValue:b,minValue:c,maxSteps:f,minSteps:g}}var f,g,h,i,j,k,l,o,q,r,s,t,u,x,w=0;if(C(),k=D(),l=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride)for(h={steps:b.scaleSteps,stepValue:b.scaleStepWidth,graphMin:b.scaleStartValue,labels:[]},x=0;x<h.steps;x++)l&&h.labels.push(y(l,{value:(b.scaleStartValue+b.scaleStepWidth*x).toFixed(v(b.scaleStepWidth))}));else h=p(j,k.maxSteps,k.minSteps,k.maxValue,k.minValue,l);g=Math.floor(j/h.steps),B(),n(b,A,z,c)},o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),x={}};